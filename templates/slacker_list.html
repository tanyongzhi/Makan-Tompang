<!DOCTYPE html>
<html lang="en">


<head>
  <meta charset="utf-8">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap" rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="/static/main.css">
  <title>Food</title>

</head>

<body>
  <div class="grid-container">
    <div class="full-width">
      <h2>Slacker Table</h2>
    </div>
    <div class="full-width">
      <div class="start-button" style="width:100%;" id=table>
        <tr>
          <th>
            cb
          </th>
          <th>
            cb
          </th>
        </tr>
      </table>
    </div>
    <div class="full-width">
    </div>
  </div>
  <script language = "javascript">
    var processed = JSON.parse({{ user | tojson | safe}});
    const table_header = ["Name", "Address"]
    function generate_html(array){
      var html = "";
      
      // generate the headers
      html += "<div>"
      array.map((elem) => {
        html += elem + "   " 
      })
      html += "</div>" + "<br>"
  
      // generate the name
      processed.map((elem) =>{
        html += "<form action=\"http://localhost:5000/confirmation\" method=\"POST\">"
        html += "<div>"
        html += "<input type = \"text\" name = \"name\" "+ "readonly=\"readonly\"value = " + keep_spaces(elem.name) + ">"
        html += "<input type = \"text\" name = \"address\" "+ "readonly=\"readonly\"value = " + keep_spaces(elem.address_name) + ">"
        html += "<input type = \"hidden\" name = \"order\" "+ "readonly=\"readonly\"value = " + keep_spaces(elem.food_order) + ">"
        html += "<input type=\"submit\" value=\"View\" class=\"submit-button\" />"
        // html += "<th>" + elem.name + "</th>"
        // html += "<th>" + elem.address_name + "</th>"
        html += "</div>"
        html += "</form>"
      })
    
      return html;
    }
    function keep_spaces(string){
      return "\"" + string + "\""
    }

    function run(){
      var el = document.getElementById("table");
      var html = generate_html(table_header);
      el.innerHTML = html;
    }
    
    window.onload = run;
  </script>


</body>




</html>